
# python
import pathlib
# woosh
import woosh

SAMPLE_DIR = pathlib.Path(__file__).parent.absolute() / '../../' / '../../' / 'sample'
def test():
    with open(SAMPLE_DIR / 'contrived/hugestring.py', 'rb') as f:
        tokens = list(woosh.tokenize(f))
    for token, expected in zip(tokens, EXPECTED):
        assert token == expected

EXPECTED = [
woosh.Token(woosh.ENCODING, 'utf-8', 1, 0, 1, 0),
woosh.Token(woosh.STRING, "'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque elementum risus ut libero pharetra feugiat. Ut congue sem enim, a facilisis nisl mattis varius. Mauris vehicula, elit convallis laoreet dignissim, arcu ipsum condimentum nisi, at tincidunt est tellus eu nunc. Suspendisse ut est consequat, finibus lectus ac, congue urna. Quisque quis leo eu nisi dapibus commodo. Aenean eu auctor leo. Ut auctor, nisi at suscipit aliquet, enim diam fermentum lacus, tristique sagittis sem lorem ac tortor.Curabitur ut auctor tortor. Suspendisse et lacus elit. Donec ullamcorper ipsum quis viverra varius. Ut pharetra molestie mauris, ac egestas diam. Vivamus semper condimentum neque. Donec sed arcu nunc. Donec vulputate augue quis sapien bibendum, at sagittis massa varius. Nullam nec bibendum quam, ut suscipit turpis.Vivamus hendrerit eros et mauris pellentesque luctus. Morbi eu dui sagittis, blandit diam et, pulvinar ex. Nam eu ullamcorper sem. Nam fermentum nibh ac ligula efficitur malesuada. Phasellus at risus a turpis iaculis vulputate et ut dolor. Duis feugiat justo vitae massa rhoncus, ac porta risus auctor. Phasellus rutrum tempor turpis, ac lacinia lectus consequat mollis. Curabitur varius vel quam et sagittis. Mauris molestie, enim id auctor pulvinar, dolor purus rutrum tellus, in volutpat ex massa quis odio. Phasellus pulvinar, tellus ut maximus volutpat, erat dui dictum urna, ut sollicitudin enim turpis at erat. Etiam id nibh et mauris finibus dapibus. Duis auctor, lorem sit amet dapibus tempor, enim leo tincidunt augue, ac fringilla augue magna sed quam. Etiam faucibus, quam nec congue ornare, nisi enim condimentum magna, vitae ornare eros justo vel elit. Sed facilisis ornare pharetra. Curabitur felis nunc, tristique at consectetur id, egestas eget tellus. Cras nec rhoncus nisi.Morbi quis leo tempus odio tempor faucibus ut eu risus. Curabitur et mattis arcu. Proin sed lacinia dolor. Duis consequat posuere tristique. Integer vel sapien non felis maximus mattis. Pellentesque in consectetur magna. Morbi quis sagittis nunc, eu consequat lacus. Sed gravida, libero id euismod accumsan, felis sem lobortis orci, et convallis metus nibh sit amet orci. Maecenas accumsan pulvinar pellentesque. Donec laoreet eu velit sed tempus. Proin commodo, orci ac iaculis elementum, massa risus consequat tellus, vitae egestas lorem massa et neque. Morbi tincidunt ante at justo ullamcorper, venenatis convallis orci porta. Duis quis tempus massa, a tincidunt nisi. Aliquam elementum ex in elementum convallis. Aliquam vitae vestibulum neque.Maecenas blandit, nunc lacinia accumsan luctus, diam dolor scelerisque elit, a fermentum lectus turpis quis enim. Praesent ut interdum tortor, non convallis tortor. Vestibulum id malesuada ante, id hendrerit sapien. In non mi scelerisque, molestie orci sed, tincidunt ligula. Etiam interdum feugiat finibus. Quisque non dui metus. Sed at augue commodo, scelerisque augue non, sodales odio. Suspendisse a congue eros. Nam interdum, dui quis fermentum commodo, turpis nunc vulputate tellus, nec finibus lorem nunc eget enim. Quisque bibendum pellentesque felis. Pellentesque arcu ante, feugiat luctus ullamcorper non, rhoncus vitae eros. Morbi fringilla dapibus leo, ullamcorper tristique neque bibendum scelerisque.Aenean congue mi id lorem volutpat suscipit. Integer vel nibh ullamcorper, pretium nunc eget, tincidunt turpis. Nullam ultrices consequat dolor nec condimentum. Quisque suscipit mi leo, sed vestibulum nisl luctus at. Ut tristique arcu at metus congue, non faucibus mi consequat. Etiam pretium dignissim ultricies. Cras facilisis placerat nisi eu interdum. Phasellus in orci tincidunt, euismod enim quis, mollis turpis. Vivamus et quam enim.Nullam pellentesque vestibulum lectus. Morbi enim nibh, lacinia sit amet faucibus vel, semper in orci. Aliquam eleifend feugiat lectus, non venenatis felis hendrerit a. Pellentesque laoreet elementum ligula et blandit. In bibendum blandit felis, a pretium nulla vehicula ac. Aenean fermentum nec mauris mattis feugiat. Fusce pharetra, justo quis viverra rhoncus, orci sem fringilla risus, in vulputate ipsum massa in tortor. Pellentesque laoreet lacinia dignissim. Nam ac consequat turpis.Nullam pretium felis eget porttitor vulputate. Ut id ante non nibh accumsan porta. Morbi venenatis ante eu ipsum suscipit fringilla. Etiam nisl augue, pharetra et augue et, maximus interdum est. Integer vulputate massa sed ultricies placerat. Quisque laoreet pretium augue, id scelerisque augue volutpat a. Praesent elementum eros a enim porttitor, at lobortis orci rutrum. Curabitur dictum dignissim tellus, sed congue quam mollis at. Aenean sagittis nisl ut luctus faucibus. Aliquam diam metus, convallis eget ipsum vel, ornare posuere elit. Duis erat urna, scelerisque a sem eu, volutpat pharetra purus. Fusce eget ipsum ut mauris aliquet ultricies. Integer tempor a ligula vel consequat. Sed iaculis leo sed ligula dictum, eleifend volutpat turpis ultrices.Integer ullamcorper ac ex sit amet volutpat. Donec ut nisi at nunc maximus ultricies. Ut sollicitudin molestie massa. Pellentesque lacus mi, fringilla sed erat ut, hendrerit tincidunt urna. Nulla facilisi. Donec ac erat eget odio cursus consectetur. Aliquam in metus tincidunt, porta ex et, blandit tellus. Fusce feugiat finibus massa eu convallis. Sed malesuada augue purus, placerat cursus nunc porttitor a. Curabitur sem diam, tincidunt sit amet dapibus eu, rutrum in massa. Vestibulum aliquam placerat facilisis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Praesent id nunc lorem. Etiam et consectetur nulla. Ut nec malesuada libero, in vestibulum magna.Suspendisse mauris enim, sodales vel enim et, sollicitudin laoreet nibh. Ut ornare mi non neque tristique vehicula. Etiam eu dignissim ligula. Sed augue justo, semper ultrices ultrices a, aliquam vel velit. Sed eu massa mauris. Donec ultrices metus at tincidunt euismod. Sed eu sem nec neque lobortis cursus. Sed urna sapien, lacinia vitae tristique sit amet, imperdiet auctor felis. Sed eros orci, faucibus non nisi et, elementum luctus lorem. Morbi vitae tellus at leo interdum pharetra eu eu augue. Nunc efficitur malesuada lorem, vitae tempor odio efficitur in. Nulla ornare convallis pellentesque. Nam blandit ex neque. Aliquam iaculis at libero et commodo. Aliquam molestie pharetra tincidunt.Aliquam erat volutpat. Aliquam erat volutpat. Duis elementum ligula non posuere bibendum. Nullam pharetra tristique velit eu hendrerit. Proin imperdiet, nisi vitae euismod ornare, tellus nibh vulputate justo, eget dictum nulla purus pharetra mauris. Fusce at iaculis velit. Quisque tempus porta tempus. Vivamus sit amet risus auctor, ornare lacus interdum, dignissim augue. Pellentesque euismod.'", 1, 0, 1, 6818),
woosh.Token(woosh.NEWLINE, '', 1, 6818, 1, 6818),
woosh.Token(woosh.EOF, '', 1, 6818, 1, 6818),
]
